# 웹, 네트워크 기초개념 ( IP, TCP, UDP )

#### 1) 인터넷이란

여러 통신망을 하나로 연결한다는 의미의 inter-network 라는 말에서 시작되었으며, 전 세계 컴퓨터들을 하나로 연결하는 거대한 컴퓨터 통신망을 의미.

여러 컴퓨터가 각각 클라이언트와 서버로써 서로 연결되어 구성된 망을 컴퓨터 네트워크라고 하고, 인터넷은 이러한 컴퓨터 네트워크가 전 세계적인 규모로 이루어진 일종의 컴퓨터 네트워크 시스템이다.

<br>

#### 2) 인터넷 4계층

- 애플리케이션 계층 - HTTP, FTP
- 전송 계층 - TCP, UDP
- 인터넷 계층 - IP
- 링크 계층 - LAN 장비

<img src="https://user-images.githubusercontent.com/59816811/113543941-5986e800-9622-11eb-83ea-c98fd0527a7f.png" alt="네트워크01" style="zoom:67%;" />

채팅 프로그램(애플리케이션) 에서 "Hello" 라는 메시지를 다른 컴퓨터에게 보냄.

--> "Hello" 라는 메시지가 SOCKET 라이브러리를 통해 전달

--> 메시지 데이터를 포함한 TCP정보를 생성

--> 메시지 데이터와 TCP 정보를 포함한 IP 패킷 생성

--> IP 패킷을 포함한 LAN 카드 관련 정보를 생성해서 최종적으로 인터넷을 통해 전달

<br>

#### 3) IP, 인터넷프로토콜

- 지정한 IP주소에 패킷(Packet) 이라는 통신 단위로 데이터 전달
  - 즉, IP의 역할은 개개의 패킷을 상대방에게 전달하는 것이다.
- IP 주소는 각 노드에 부여된 주소를 가리키고 MAC 주소는 각 네트워크 카드에 할당된 고유의 주소다. IP 주소는 변경 가능하지만 MAC 주소는 변경할 수 없고, IP 주소와 MAC 주소를 이용해 통신을 합니다.

인터넷에서 통신을 할 때 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착합니다. 이때, ARP (Address Resolution Protocol )을 이용하는데 도착지의 IP 주소를 바탕으로 거쳐가야하는 기기들의 MAC 주소를 조사해서 최종적으로 도착하게 됩니다.

<img src="https://user-images.githubusercontent.com/59816811/106696141-6e91cb80-661f-11eb-8cce-6b70a81cd747.png" alt="network01_3" width="500" />

> 참고!
>
> IP주소는 컴퓨터마다 서버한테 부여받은 자기의 주소라고 생각하면 편하다.

<br>

#### 4) IP 인터넷프로토콜의 한계

- 비연결성

  - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송

- 비신뢰성

  - 중간에 패킷이 사라질 수 있음.

    --> 중간에 패킷이 가다가 중간 인터넷망에서 문제가 생기는 경우

  - 패킷 순서를 보장하지 않음.

- 프로그램 구분

  - 같은 IP를 사용하는 서버에서 통신하는 애플리케이션끼리 구분 불가능.

<br>

#### 5) TCP 프로토콜 (전송 제어 프로토콜)

TCP 프로토콜은 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 프로토콜입니다. IP프로토콜의 한계를 다 해결해주는 프로토콜로 출발지 PORT, 목적지 PORT, 전송 제어, 순서, 검증 정보 등의 내용을 포함하고 있음.

- 연결지향 - 3 way handshake
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜

<br>

#### 6) TCP 3 way handshake

`SYN` `ACK` 라는 TCP 플래그를 이용해 패킷이 보내졌는지 여부를 확인하는 방법입니다. 

( SYN : 접속요청 / ACK : 요청수락 )

클라이언트가 `SYN` 플래그로 상대에게 접속함과 동시에 패킷을 보내고, 서버는 `SYN/ACK` 플래그로 클라이언트에 접속함과 동시에 패킷을 받은 사실을 전합니다. 마지막으로 클라이언트가 `ACK` 플래그를 보내 패킷 교환이 완료되었음을 전합니다. 

<img src="https://user-images.githubusercontent.com/59816811/106688391-5e72ef80-6611-11eb-8ba4-757a682be3db.png" alt="network01_1" width="500" />

> 참고!
>
> 물리적으로 연결된거는 아님! 가상 연결!

<br>

#### 7) UDP 프로토콜 (사용자 데이터그램 프로토콜)

IP프로토콜과 크게 다르지는 않은데 PORT 정보랑 체크섬 정보가 추가됨.

따라서 연결을 보장 X, 데이터 전달 보증 X 순서 보장 X

하지만 그만큼 빠르다!!

> 참고!
>
> 기존에는 대부분 TCP 프로토콜 기반이였으나 HTTP3에서는 UDP 프로토콜 기반!

<br>

#### 8) PORT

같은 IP 내에서 프로세스를 구분하는 주소.

같은 IP 주소에 있는 여러 개의 애플리케이션과 연결을 어떻게할까??

--> PORT 주소 등장!

- 0 ~ 65535 할당 가능
- 0 ~ 1023 : 잘 알려진 포트 --> 사용하지 않는 것이 좋음!
- HTTP - 80포트
- HTTPS - 443포트

IP를 아파트, PORT를 몇동 몇호 라고 생각하자!

<br>

#### 9) DNS ( 도메인 네임 시스템 )

IP 주소로 통신을 했다.

--> IP 주소는 외우기도 어렵고, 변경될 수도 있다.

--> DNS 등장!

호스트의 도메인 이름을 호스트의 네트워크 주소로 바꾸거나 그 반대의 변환을 수행할 수 있도록 해주는 시스템.

<br>

#### 10) URI (Uniform Resource Identifier)

- Uniform : 리소스를 식별하는 통일된 방식
- Resource : URI로 식별할 수 있는 모든 것
- Identifier : 다른 항목과 구분하는데 필요한 정보

URI 는 로케이터(locator), 이름(name) 또는 둘 다 이용해서 자원을 식별.

URL 은 로케이터(locator) 으로 자원을 식별 

URN 은 이름(name) 으로 자원을 식별

<img src="https://user-images.githubusercontent.com/59816811/106688395-603cb300-6611-11eb-8935-c590401f0f9a.png" alt="network01_2" width="550" />

<br>





